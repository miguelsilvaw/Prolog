:- dynamic(fact/1), [forward,proof,basedados].
:-initialization(menu).

%Base de conhecimento

:- op( 800, fx, if).
:- op( 700, xfx, then).
:- op( 300, xfy, or).
:- op( 200, xfy, and).


if preco1 and musica6 and estacao2 and regiao1 and campismo2 and ambiente5 and diversao2 then '1'.
if preco1 and musica2 and estacao2 and regiao1 and campismo1 and ambiente3 and diversao2 then '2'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '3'.
if preco1 and musica5 and estacao2 and regiao1 and campismo1 and ambiente2 and diversao1 then '4'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao1 then '5'.
if preco1 and musica5 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao1 then '6'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '7'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao1 then '8'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '9'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente1 and diversao1 then '10'.
if preco1 and musica5 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '11'.
if preco1 and musica1 and estacao4 and regiao1 and campismo2 and ambiente5 and diversao2 then '12'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao1 then '13'.
if preco4 and musica5 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '14'.
if preco4 and musica5 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '15'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '16'.
if preco3 and musica5 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '17'.
if preco3 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao1 then '18'.
if preco3 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '19'.
if preco3 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '20'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '21'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '22'.
if preco3 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '23'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '24'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '25'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '26'.
if preco4 and musica2 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '27'.
if preco1 and musica2 and estacao2 and regiao1 and campismo1 and ambiente1 and diversao1 then '28'.
if preco1 and musica2 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '29'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '30'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '31'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '32'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '33'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '34'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '35'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '37'.
if preco2 and musica4 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '38'.
if preco1 and musica2 and estacao2 and regiao1 and campismo1 and ambiente2 and diversao2 then '39'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao1 then '40'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '41'.
if preco1 and musica1 and estacao1 and regiao1 and campismo1 and ambiente4 and diversao2 then '42'.
if preco2 and musica2 and estacao1 and regiao1 and campismo1 and ambiente5 and diversao2 then '43'.
if preco2 and musica2 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '44'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente2 and diversao1 then '45'.
if preco1 and musica2 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '46'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '45'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '46'.
if preco4 and musica2 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '47'.
if preco3 and musica5 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '48'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '49'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente5 and diversao2 then '50'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente2 and diversao2 then '51'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '52'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente2 and diversao2 then '53'.
if preco1 and musica5 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao2 then '54'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '55'.
if preco1 and musica5 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '56'.
if preco1 and musica1 and estacao2 and regiao1 and campismo2 and ambiente4 and diversao2 then '57'.
if preco3 and musica2 and estacao1 and regiao2 and campismo2 and ambiente5 and diversao2 then '58'.
if preco3 and musica1 and estacao2 and regiao1 and campismo2 and ambiente4 and diversao2 then '59'.
if preco1 and musica1 and estacao2 and regiao1 and campismo2 and ambiente5 and diversao2 then '60'.
if preco2 and musica1 and estacao2 and regiao2 and campismo2 and ambiente5 and diversao2 then '61'.
if preco2 and musica1 and estacao2 and regiao1 and campismo2 and ambiente4 and diversao2 then '62'.
if preco2 and musica1 and estacao1 and regiao1 and campismo2 and ambiente4 and diversao2 then '63'.
if preco4 and musica1 and estacao1 and regiao2 and campismo1 and ambiente4 and diversao2 then '64'.
if preco4 and musica5 and estacao1 and regiao2 and campismo1 and ambiente4 and diversao1 then '65'.
if preco1 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '66'.
if preco2 and musica1 and estacao2 and regiao2 and campismo2 and ambiente4 and diversao2 then '67'.
if preco2 and musica5 and estacao2 and regiao1 and campismo1 and ambiente2 and diversao1 then '68'.
if preco2 and musica3 and estacao1 and regiao1 and campismo1 and ambiente5 and diversao2 then '69'.
if preco3 and musica1 and estacao1 and regiao1 and campismo1 and ambiente4 and diversao1 then '70'.
if preco2 and musica1 and estacao2 and regiao1 and campismo1 and ambiente4 and diversao1 then '71'.
if preco2 and musica1 and estacao1 and regiao1 and campismo1 and ambiente5 and diversao2 then '72'.
if preco3 and musica1 and estacao2 and regiao2 and campismo2 and ambiente5 and diversao1 then '73'.
if preco2 and musica1 and estacao2 and regiao1 and campismo2 and ambiente2 and diversao2 then '74'.
if preco2 and musica1 and estacao2 and regiao1 and campismo2 and ambiente5 and diversao2 then '75'.

resultadowrite(P) :- dados(P, L), write(L), demo(P, Proof).
%resultadowrite(P) :- demo(P,proof),dados(P, L), write(L).
menu :- nl, nl, write('Bem vindo ao SBC-Festivais! Descubra o seu festival de musica!'),nl,
		write('1 - Entrar SBC'),nl,
		write('2 - Ajuda'),nl,
		write('3 - Sair'),nl,
		read(A),
		avaliar(A).
		


avaliar(1):- q1.
avaliar(2):- write('Para começar escreva menu.').
avaliar(3):- write('Obrigado pela sua visita!'), halt.

q1:- write('Qual é o seu orçamento disponivel?'), nl,
     write('1: 0€ - 100€'), nl,
     write('2: 101€ - 200€'), nl,
     write('3: 201€ - 300€'), nl,
     write('4: Mais de 301€'), nl,

	read(A1),
		  (
		   (A1==1), assert(fact(preco1)),nl, q2;
		   (A1==2), assert(fact(preco2)),nl, q2;
		   (A1==3), assert(fact(preco3)),nl, q2;
		   (A1==4), assert(fact(preco4)),nl, q2
		   ).

q2:- write('Qual o tipo de música mais gosta?'),nl,
     write('1: Variada'), nl,
     write('2: Eletronica'), nl,
     write('3: Pop'), nl,
     write('4: Hip Hop'), nl,
     write('5: Rock'), nl,
     write('6: Fado'),nl,
	read(A2), (
		   (A2==1), assert(fact(musica1)),nl, q3;
		   (A2==2), assert(fact(musica2)),nl, q3;
	           (A2==3), assert(fact(musica3)),nl, q3;
		   (A2==4), assert(fact(musica4)),nl, q3;
		   (A2==5), assert(fact(musica5)),nl, q3;
 		   (A2==6), assert(fact(musica6)),nl, q3	
	  	).

q3:- write('Qual é a estação do ano que prefere ir a um festival?'),nl,
     write('1: Primavera'), nl,
     write('2: Verao'), nl,
     write('3: Outono'), nl,	
     write('4: Inverno'), nl,
	read(A3),
		 (
		  (A3==1), assert(fact(estacao1)),nl, q4;
		  (A3==2), assert(fact(estacao2)),nl, q4;
		  (A3==3), assert(fact(estacao3)),nl, q4;
		  (A3==4), assert(fact(estacao4)),nl, q4
		  ).



q4:- write('Qual a região que prefere ir a um festival?'),nl,
    write('1: Europa'),nl,
    write('2: América do Norte'),nl,
    write('3: América do Sul'),nl,
    write('4: Ásia'),nl,
    write('5: Africa'),nl,
    write('6: Oceania'),nl,
	read(A4), (
		  (A4==1), assert(fact(regiao1)),nl, q5;
		  (A4==2), assert(fact(regiao2)),nl, q5;
		  (A4==3), assert(fact(regiao3)),nl, q5;
		  (A4==4), assert(fact(regiao4)),nl, q5;
		  (A4==5), assert(fact(regiao5)),nl, q5;
		  (A4==6), assert(fact(regiao6)),nl, q5	
		  ).


q5:- write('Pretende acampar?'),nl,
     write('1: Sim'),nl,
     write('2: Não'),nl,
	read(A5), (
		  (A5==1), assert(fact(campismo1)),nl, q6;
		  (A5==2), assert(fact(campismo2)),nl, q6
		  ).



q6:- write('Qual o ambiente que pretende?'),nl,
     write('1: Praia'),nl,
     write('2: Fluvial'),nl,
     write('3: Tradicional'),nl, 
     write('4: Rural'),nl,
     write('5: Urbano'),nl,
	read(A6), (
		  (A6==1), assert(fact(ambiente1)),nl, q7;
		  (A6==2), assert(fact(ambiente2)),nl, q7;
		  (A6==3), assert(fact(ambiente3)),nl, q7;
	          (A6==4), assert(fact(ambiente4)),nl, q7;
	          (A6==5), assert(fact(ambiente5)),nl, q7	
		  ).

q7:- write('Pretende festivais com diversões?'),nl,
     write('1: Sim'),nl,
     write('2: Não'),nl,
	read(A7), (
		  (A7==1), assert(fact(diversao1)),nl, solucao;
		  (A7==2), assert(fact(diversao2)),nl, solucao
		  ).


solucao :- nl, demo, retractall(fact(_)).

%:-menu.